language: java
env:
  global:
    - secure: "YjLEoqBTOu4lfD7Wx00HZN1YmAylMJIwBJfqX3h/4P2Pcwn+TujabtOXGJodmdn2UTzXeL2lOL5ap4gkrjY+bIE+lTaq02GDnghgs87GdKe1A437AqGvXDaEZUjcfWMdqGStYstHQcGsLIG7bT/hNWlkT7YFugr8v5la6CmXn4s51fJY86e6u00ndCDQdhZvg7QN7UzOKi3ozc6CfrHJgTa/SC982B0Ag6YhtzKGwj6L+zxAFqhsr4SQljdn7zkJmBRF9d4d1Nd6y9n5uYbzng1j4McOaGGA8U4FMSGJr8Y98qGvEgU/owcHxHW2tTXhgV8RMd81HDYSOZ4DAIDVXOmqXvXzTl2+KNNnXYgPhgbNBIbUwRl8bu+drhPRwdkvBM3OJ0d7VytHNd7OUA4bh8/5YC22JCfQ7MGBZqOavexFNYNHkuwp5FDeiGl1fyCBsZI6W3Ic2fziloQY9YK6oNWgtxssJLOlkFgXDwMP+rFIKJmN/IJlPuC2GbeQCYX9LOJKJzUyzw1aWE0mHrEArY8YTHHngYC2sreMrNpuX745MwrA/BeyRnx7sM3pNFSCyqYJ/TaJ1Fabt1+PC3I4cRONHM0mmiFCmaD0Cga5A19BaSxpFiCb3LD+Am+qRgL/3BvWNvhjJMYRanNX1CVZS565fyaXXeu4gVdulhARqc0="
    - secure: "GjDGdcFRIyPL3VxMpAAgV4f5l/fgWgDQlQFTqFBN5S7T8+TwrovKkaLTey+54c9+c71Nz7Bq5fL0nOqx5ehtBKHUwvxA2waWBTm6h+y3lK5aXVASJBivCfmENw3hzOLdOCDLEgr9uhZH5crgQrSsPp5z4mwzXqgmlGkID8U8zYFtgZPICcBbQwyw/pCf5z9s/c7ELYBZm81N3QIJzWHM50+BwGaXUWX73zQsajDqU6p5y/FS00Q2lyYMk1xMFMpjK4wWvb1PAtTmvtAgzyNnns0XS8Pv21aCLqukfBQfKH4dc+ja5Fx8MWVAXmQnoskEeveKdr5+qUJeRt+SVGOGLMdyby0zutcfUu089fMONRN4Qy+ACOahVkL1klwJTVjD6Hb6Br+dUjaDK/b+IHkG7cpy585Zr6TsyVQc84JLTFSJMy9H+q4tIcWLmELibmL5+XFlMvx1BZfqItQgtbtuGmpic33b+KLJ8i7+Rdwaknj8GOcapHEiMcvosIj1ku65Ec2sV446kEVvKiCa8UMQ1HY1HHIjMhBvYWEyXZq31G1CL85lW2KAyzc8yWFeDKH53Di0kIzKU4H/ze9L4IzOHNrcTaHJbPTPzaJckmP0sg+0DmVx/qoCNE2xIjKzPpyMWniYy9ICKLef7fVnqCXT5XkyUOxchPiASlYl2TViiN8="
    - secure: "OxKtNgUGDEd5GHrwQxGn8/r6a94vGlrllt7SgFWmqNvtZExbnhf39D+ILiuRJczaO4J+DmvIgnrNpoQyFVzKNl2RuD6v5hI2X0UTMGb35emW4yJGa7Q+aKnd9asezBsaTve7ZMzZxwToIRsFE7mIcARXBhqcV24H4PfdeAXU1P4013r6sioBckiTqmqBHgAWXckmHypiv/COpOrMf6l3x5HfscMNFg04nWLwYtIfa1xKL1OIBf+qXdJNwjCD/Mu7iIWAQ528N1zsg0cbEdrS5cJgFLQ9Aix/2r9IIMjM8VTxA5r+rI3EVFBJAcdSl0rms895am6CJ7Gvq7Tgo2fHVAPiSvX0WwA92MOhq+LbqEWbe5842iM7kSph+oMsi2B2Uj8C+VfpaTpzYXFPq3NKCE+8ylNV4LcEOpxdh4YdiqOn7hZRSv2a/nRyjvrcifXLrZEX7Ckje3WuWqoc8/JwoWeIYzpuNMM8jHr8nrAlXjguCrH5vAJ0W8W5TFteMAoCoL88zrHFgWBX/wH35ngVaMAhJy0zrnWq3uP+yG+M707DW9WF7dzpACoqfggPkamCw+6aITzzywVCU1t96C/ZkTEZSv/1CTedcXNE5Q19bzlU0v8OlXASq7lerV82saE/wlWuojRy9oGMCuzQjleYYXWra4AJSxIi+74txt+IQjI="
    - secure: "nnWO1VDueN7wPfg1VlrVmFQYzFm/8QzcdCpXFGWu5ODKW3v29hpUjUo3/baN2Et682nPlpijkidbXzOwGDRqcOZaUUeN3Du5FhloyQjArXjdi+BX13QAsknwPkKws4N8zV3YgKP2nUUcx/NIOc7X0R7dCyGpJNqt0XcJpm68Sno9soHZ3719FijHFzMzBaZoTB3oFzpkVgjeWig9zaNhez3YzFuf+6KJaXVowhFZyvGj1cFmjPbTJvXhP/wZkjbQrEQy4+ToO4EobTc7j1T97v5CzrUmdAEYbt9OLzP7xnAWwe/r8LQSncSR64MLzdrJGSjpBzOTKbYWVQXA4/c+6R3TEbmq7f44+ezjFRBPxHGRqcDVDLXO6GkQOuoAlFUQglXd8XndXN41zFVDdBHB9qgbjDGNS3RGVRNtmuw9Q+HzKl7Ukt6WOV4sb8Cz9QQ0Z48dHRL7EPm/mRdhWGeLv7rtuVlSdU8bdgXnBMtZ9HIdPdCcNuC/rgRGFqVmiBFqK28W4OheMraogPm6BhSQIUBITmiOV1II2frAfrF0TmYgbWo27r6Jpes8r9qBLlwYKPITaLZhPffej7Jqs912ZsZlO/bpGOm2AYRVytQelEDNIS+x1oqC0MxoPmiH2gBudxz2+nXCzv9EZJ3uMEAmk+XWizHBCJK+6UBNKaq76Jg="

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

before_install:
  - chmod +x ./cd/deploy.sh
  - chmod +x ./cd/before-deploy.sh

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh
language: java
env:
  global:
    - secure: "YjLEoqBTOu4lfD7Wx00HZN1YmAylMJIwBJfqX3h/4P2Pcwn+TujabtOXGJodmdn2UTzXeL2lOL5ap4gkrjY+bIE+lTaq02GDnghgs87GdKe1A437AqGvXDaEZUjcfWMdqGStYstHQcGsLIG7bT/hNWlkT7YFugr8v5la6CmXn4s51fJY86e6u00ndCDQdhZvg7QN7UzOKi3ozc6CfrHJgTa/SC982B0Ag6YhtzKGwj6L+zxAFqhsr4SQljdn7zkJmBRF9d4d1Nd6y9n5uYbzng1j4McOaGGA8U4FMSGJr8Y98qGvEgU/owcHxHW2tTXhgV8RMd81HDYSOZ4DAIDVXOmqXvXzTl2+KNNnXYgPhgbNBIbUwRl8bu+drhPRwdkvBM3OJ0d7VytHNd7OUA4bh8/5YC22JCfQ7MGBZqOavexFNYNHkuwp5FDeiGl1fyCBsZI6W3Ic2fziloQY9YK6oNWgtxssJLOlkFgXDwMP+rFIKJmN/IJlPuC2GbeQCYX9LOJKJzUyzw1aWE0mHrEArY8YTHHngYC2sreMrNpuX745MwrA/BeyRnx7sM3pNFSCyqYJ/TaJ1Fabt1+PC3I4cRONHM0mmiFCmaD0Cga5A19BaSxpFiCb3LD+Am+qRgL/3BvWNvhjJMYRanNX1CVZS565fyaXXeu4gVdulhARqc0="
    - secure: "Pno2WzyPyX1eZhiXvmu7KhuJujRikHDbyMlmLWqkf+PHbd5kuI12gvlMnl8Ov3vmZpIP0AGTIUY7TnSqlMw0BtCw6IzhwFeHcliobLKC0iqrGRwAQCAUlGHpyBAmSUs2iZaog0BOtLmK6rrbLC677w3yX/XKZ1uj9LGvzuAK7E2VMKuEO0/bCr4PeV4DmISGqShv0C09AMHbYlOlIrsJjviebhqlcaqwJhiTQSxWik9WPD11pl9S92cc0hDF3GOO423K6eOAjGF9DYKht9I+0SEPhPz1JxpCTLiQ7C6RvbWfFr4+ldCxrXKyDTmiMRBIpZmj85TnrJ9ZAUxJn1IYPaBCoYDcvBKLHSsISqka01fl//Rx92WrHmE+/+qBI61IW3sO5LtU/416LG7hF/l3s+wrDBScgqQaOssRfHycUbPQNFYghQiWKfb5ZK8LYuoE/N4La9oOMTi9LI7/xx/s7urCGBrJZ2Y1710grIMaZP5yVR0nyfN1vFHDYfcztHMtBPhoVyZBxjbWz1yVCaY9KF1Q8OjyZAUo3Z26MfpKnJLcByrrX9hvbUMh3G16PW5GL9vw1hlzdAb0liGZlsWXr1dLcFUYpAxGa6/Frbeaxl2V2VEoIaKzMn3rkjoAZsER1E66bKyNar778yQOVVM/zYcSVUijoirtiJuR2ba83eY="
    - secure: "OxKtNgUGDEd5GHrwQxGn8/r6a94vGlrllt7SgFWmqNvtZExbnhf39D+ILiuRJczaO4J+DmvIgnrNpoQyFVzKNl2RuD6v5hI2X0UTMGb35emW4yJGa7Q+aKnd9asezBsaTve7ZMzZxwToIRsFE7mIcARXBhqcV24H4PfdeAXU1P4013r6sioBckiTqmqBHgAWXckmHypiv/COpOrMf6l3x5HfscMNFg04nWLwYtIfa1xKL1OIBf+qXdJNwjCD/Mu7iIWAQ528N1zsg0cbEdrS5cJgFLQ9Aix/2r9IIMjM8VTxA5r+rI3EVFBJAcdSl0rms895am6CJ7Gvq7Tgo2fHVAPiSvX0WwA92MOhq+LbqEWbe5842iM7kSph+oMsi2B2Uj8C+VfpaTpzYXFPq3NKCE+8ylNV4LcEOpxdh4YdiqOn7hZRSv2a/nRyjvrcifXLrZEX7Ckje3WuWqoc8/JwoWeIYzpuNMM8jHr8nrAlXjguCrH5vAJ0W8W5TFteMAoCoL88zrHFgWBX/wH35ngVaMAhJy0zrnWq3uP+yG+M707DW9WF7dzpACoqfggPkamCw+6aITzzywVCU1t96C/ZkTEZSv/1CTedcXNE5Q19bzlU0v8OlXASq7lerV82saE/wlWuojRy9oGMCuzQjleYYXWra4AJSxIi+74txt+IQjI="
    - secure: "nnWO1VDueN7wPfg1VlrVmFQYzFm/8QzcdCpXFGWu5ODKW3v29hpUjUo3/baN2Et682nPlpijkidbXzOwGDRqcOZaUUeN3Du5FhloyQjArXjdi+BX13QAsknwPkKws4N8zV3YgKP2nUUcx/NIOc7X0R7dCyGpJNqt0XcJpm68Sno9soHZ3719FijHFzMzBaZoTB3oFzpkVgjeWig9zaNhez3YzFuf+6KJaXVowhFZyvGj1cFmjPbTJvXhP/wZkjbQrEQy4+ToO4EobTc7j1T97v5CzrUmdAEYbt9OLzP7xnAWwe/r8LQSncSR64MLzdrJGSjpBzOTKbYWVQXA4/c+6R3TEbmq7f44+ezjFRBPxHGRqcDVDLXO6GkQOuoAlFUQglXd8XndXN41zFVDdBHB9qgbjDGNS3RGVRNtmuw9Q+HzKl7Ukt6WOV4sb8Cz9QQ0Z48dHRL7EPm/mRdhWGeLv7rtuVlSdU8bdgXnBMtZ9HIdPdCcNuC/rgRGFqVmiBFqK28W4OheMraogPm6BhSQIUBITmiOV1II2frAfrF0TmYgbWo27r6Jpes8r9qBLlwYKPITaLZhPffej7Jqs912ZsZlO/bpGOm2AYRVytQelEDNIS+x1oqC0MxoPmiH2gBudxz2+nXCzv9EZJ3uMEAmk+XWizHBCJK+6UBNKaq76Jg="

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

before_install:
  - chmod +x ./cd/deploy.sh
  - chmod +x ./cd/before-deploy.sh

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh
language: java
env:
  global:
    - secure: "YjLEoqBTOu4lfD7Wx00HZN1YmAylMJIwBJfqX3h/4P2Pcwn+TujabtOXGJodmdn2UTzXeL2lOL5ap4gkrjY+bIE+lTaq02GDnghgs87GdKe1A437AqGvXDaEZUjcfWMdqGStYstHQcGsLIG7bT/hNWlkT7YFugr8v5la6CmXn4s51fJY86e6u00ndCDQdhZvg7QN7UzOKi3ozc6CfrHJgTa/SC982B0Ag6YhtzKGwj6L+zxAFqhsr4SQljdn7zkJmBRF9d4d1Nd6y9n5uYbzng1j4McOaGGA8U4FMSGJr8Y98qGvEgU/owcHxHW2tTXhgV8RMd81HDYSOZ4DAIDVXOmqXvXzTl2+KNNnXYgPhgbNBIbUwRl8bu+drhPRwdkvBM3OJ0d7VytHNd7OUA4bh8/5YC22JCfQ7MGBZqOavexFNYNHkuwp5FDeiGl1fyCBsZI6W3Ic2fziloQY9YK6oNWgtxssJLOlkFgXDwMP+rFIKJmN/IJlPuC2GbeQCYX9LOJKJzUyzw1aWE0mHrEArY8YTHHngYC2sreMrNpuX745MwrA/BeyRnx7sM3pNFSCyqYJ/TaJ1Fabt1+PC3I4cRONHM0mmiFCmaD0Cga5A19BaSxpFiCb3LD+Am+qRgL/3BvWNvhjJMYRanNX1CVZS565fyaXXeu4gVdulhARqc0="
    - secure: "Pno2WzyPyX1eZhiXvmu7KhuJujRikHDbyMlmLWqkf+PHbd5kuI12gvlMnl8Ov3vmZpIP0AGTIUY7TnSqlMw0BtCw6IzhwFeHcliobLKC0iqrGRwAQCAUlGHpyBAmSUs2iZaog0BOtLmK6rrbLC677w3yX/XKZ1uj9LGvzuAK7E2VMKuEO0/bCr4PeV4DmISGqShv0C09AMHbYlOlIrsJjviebhqlcaqwJhiTQSxWik9WPD11pl9S92cc0hDF3GOO423K6eOAjGF9DYKht9I+0SEPhPz1JxpCTLiQ7C6RvbWfFr4+ldCxrXKyDTmiMRBIpZmj85TnrJ9ZAUxJn1IYPaBCoYDcvBKLHSsISqka01fl//Rx92WrHmE+/+qBI61IW3sO5LtU/416LG7hF/l3s+wrDBScgqQaOssRfHycUbPQNFYghQiWKfb5ZK8LYuoE/N4La9oOMTi9LI7/xx/s7urCGBrJZ2Y1710grIMaZP5yVR0nyfN1vFHDYfcztHMtBPhoVyZBxjbWz1yVCaY9KF1Q8OjyZAUo3Z26MfpKnJLcByrrX9hvbUMh3G16PW5GL9vw1hlzdAb0liGZlsWXr1dLcFUYpAxGa6/Frbeaxl2V2VEoIaKzMn3rkjoAZsER1E66bKyNar778yQOVVM/zYcSVUijoirtiJuR2ba83eY="
    - secure: "firmhjCKCThWrYlCLWT8wzHhYpToyiBkIiOJOOmDE5iOXzdhcdT6KyuReb7G90zblE+YyamqDtTVX+UOgm8mLIj75Uj7RNMhl5D28/MFKoLAQYBlqu/YbcyF4x/ojqzRzgSqJ64BsjtMJErAAOCivIMskdbdFU6CV2xPN+oq9Tu0jjBPtKXx0Lt1kVSYfG0cZSdntfzpzXATArKrujDpDZ2Qvcnwye14JhTcdSZzmLh5HN3P5gNUWYJyAybFr+orSRRFPnYKBLfpBbISQ3HACI6Dc4CCOxlhcN7DUKoJp5PEggopIsnvBCKc1ENLFsFMRIzEDNOVcfOYU/cAeMDidQcWQj4HX4HKJRldWQHBdKVg0Vnj0PMZ9h0GWFwxGheQy0AhQRmlBJRKiMkjnD+D7OolsBehqID5zQq0CEVFefOJUwY29qES8LYOzxvalDjcC2GsBHhBgKo61ywjwYaUmZuT0iCzou7/U2auQBTieZciVjK1v8QhKol/Rv/IvTz9+ZvWkFHSpP9KlOvWDIX2zQwKKcMsBf7+ZjnDiltTqyUxMdsO+S9kB5kCvn7Z2Ek+QDvBxiJAo45NdUTfLBYAAG/XbPEfLANGSts9lS/rbBXotkjAaSZKaZsl0iQFKGLsZLLiaTK0lgjxbIKcl3FWY9HFXSL3o51tVyGbfIppueo="
    - secure: "nnWO1VDueN7wPfg1VlrVmFQYzFm/8QzcdCpXFGWu5ODKW3v29hpUjUo3/baN2Et682nPlpijkidbXzOwGDRqcOZaUUeN3Du5FhloyQjArXjdi+BX13QAsknwPkKws4N8zV3YgKP2nUUcx/NIOc7X0R7dCyGpJNqt0XcJpm68Sno9soHZ3719FijHFzMzBaZoTB3oFzpkVgjeWig9zaNhez3YzFuf+6KJaXVowhFZyvGj1cFmjPbTJvXhP/wZkjbQrEQy4+ToO4EobTc7j1T97v5CzrUmdAEYbt9OLzP7xnAWwe/r8LQSncSR64MLzdrJGSjpBzOTKbYWVQXA4/c+6R3TEbmq7f44+ezjFRBPxHGRqcDVDLXO6GkQOuoAlFUQglXd8XndXN41zFVDdBHB9qgbjDGNS3RGVRNtmuw9Q+HzKl7Ukt6WOV4sb8Cz9QQ0Z48dHRL7EPm/mRdhWGeLv7rtuVlSdU8bdgXnBMtZ9HIdPdCcNuC/rgRGFqVmiBFqK28W4OheMraogPm6BhSQIUBITmiOV1II2frAfrF0TmYgbWo27r6Jpes8r9qBLlwYKPITaLZhPffej7Jqs912ZsZlO/bpGOm2AYRVytQelEDNIS+x1oqC0MxoPmiH2gBudxz2+nXCzv9EZJ3uMEAmk+XWizHBCJK+6UBNKaq76Jg="

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

before_install:
  - chmod +x ./cd/deploy.sh
  - chmod +x ./cd/before-deploy.sh

after_success:
  - ./cd/before-deploy.sh
  - ./cd/deploy.sh